# Giggle Academy å¤šè¯­è¨€ç¿»è¯‘ç³»ç»Ÿ

## é¡¹ç›®ç®€ä»‹

Giggle Academy æ˜¯ä¸€ä¸ªå„¿ç«¥æ•™è‚²å¹³å°ï¼Œæœ¬ç³»ç»Ÿä¸ºå¹³å°æä¾›å¤šè¯­è¨€ç¿»è¯‘åŠŸèƒ½ï¼Œæ”¯æŒè¯­éŸ³è¯†åˆ«ã€æ–‡æœ¬ç¿»è¯‘å’Œç´§å‡‘ç¼–ç æ‰“åŒ…ï¼Œè®©å…¨ä¸–ç•Œçš„å„¿ç«¥éƒ½èƒ½äº«å—ä¼˜è´¨æ•™è‚²å†…å®¹ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤ **è¯­éŸ³è¯†åˆ«**: ä½¿ç”¨ Whisper è¿›è¡ŒéŸ³é¢‘è½¬æ–‡æœ¬
- ğŸŒ **å¤šè¯­è¨€ç¿»è¯‘**: æ”¯æŒè‹±è¯­ã€ç®€ä½“ä¸­æ–‡ã€ç¹ä½“ä¸­æ–‡ã€æ—¥è¯­
- ğŸ“¦ **ç´§å‡‘ç¼–ç **: é«˜æ•ˆçš„æ–‡ä»¶æ ¼å¼è®¾è®¡
- ğŸ”„ **ä»»åŠ¡ç®¡ç†**: å®Œæ•´çš„ç¿»è¯‘ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ğŸš€ **åˆ†å¸ƒå¼æ¶æ„**: æ”¯æŒé«˜å¹¶å‘å’Œæ•…éšœè½¬ç§»

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web API       â”‚    â”‚   Task Queue    â”‚    â”‚   Translation   â”‚
â”‚   (Flask)       â”‚â—„â”€â”€â–ºâ”‚   (Redis)       â”‚â—„â”€â”€â–ºâ”‚   Workers       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   File Storage  â”‚    â”‚   Whisper       â”‚    â”‚   LLM API       â”‚
â”‚   (Local/Cloud) â”‚    â”‚   (GPU/CPU)     â”‚    â”‚   (OpenAI)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Redis 6.0+
- CUDA (å¯é€‰ï¼Œç”¨äºGPUåŠ é€Ÿ)
- FFmpeg (éŸ³é¢‘å¤„ç†)

## å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd giggle-translation-system
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

### 3. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 4. å®‰è£…FFmpeg
- **Windows**: ä¸‹è½½å¹¶æ·»åŠ åˆ°PATH
- **Linux**: `sudo apt-get install ffmpeg`
- **Mac**: `brew install ffmpeg`

### 5. é…ç½®ç¯å¢ƒå˜é‡
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥å¿…è¦çš„é…ç½®
OPENAI_API_KEY=your_openai_api_key
REDIS_URL=redis://localhost:6379
```

### 6. å¯åŠ¨Redis
```bash
# Windows (éœ€è¦å…ˆå®‰è£…Redis)
redis-server

# Linux/Mac
sudo systemctl start redis
```

## å¯åŠ¨è¯´æ˜

### 1. å¯åŠ¨APIæœåŠ¡
```bash
python app.py
```
æœåŠ¡å°†åœ¨ http://localhost:5000 å¯åŠ¨

### 2. å¯åŠ¨Workerè¿›ç¨‹
```bash
python worker.py
```

### 3. å¯åŠ¨ç›‘æ§é¢æ¿ï¼ˆå¯é€‰ï¼‰
```bash
python monitor.py
```

## APIæ–‡æ¡£

### åˆ›å»ºç¿»è¯‘ä»»åŠ¡
```bash
POST /api/v1/tasks
Content-Type: application/json

{
  "audio_file": "path/to/audio.mp3",
  "text_file": "path/to/text.json",
  "target_languages": ["zh-CN", "zh-TW", "ja"]
}
```

### æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
```bash
GET /api/v1/tasks/{task_id}
```

### è·å–ç¿»è¯‘ç»“æœ
```bash
GET /api/v1/tasks/{task_id}/result
```

## æµ‹è¯•è¯´æ˜

### 1. å•å…ƒæµ‹è¯•
```bash
python -m pytest tests/ -v
```

### 2. é›†æˆæµ‹è¯•
```bash
python tests/integration_test.py
```

### 3. æ€§èƒ½æµ‹è¯•
```bash
python tests/performance_test.py
```

### 4. æ‰‹åŠ¨æµ‹è¯•
```bash
# ä½¿ç”¨æä¾›çš„æµ‹è¯•æ•°æ®
python tests/manual_test.py
```

## é¡¹ç›®ç»“æ„

```
giggle-translation-system/
â”œâ”€â”€ app.py                 # Flask API ä¸»ç¨‹åº
â”œâ”€â”€ worker.py              # åå°ä»»åŠ¡å¤„ç†
â”œâ”€â”€ monitor.py             # ç³»ç»Ÿç›‘æ§
â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ .env.example          # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ README.md             # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ docs/                 # è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture.md   # æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ api.md           # API æ–‡æ¡£
â”‚   â””â”€â”€ deployment.md    # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ src/                  # æºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ api/             # API æ¨¡å—
â”‚   â”œâ”€â”€ core/            # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡æœåŠ¡
â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ tests/               # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_api.py
â”‚   â”œâ”€â”€ test_services.py
â”‚   â””â”€â”€ test_data/       # æµ‹è¯•æ•°æ®
â””â”€â”€ data/                # æ•°æ®æ–‡ä»¶
    â”œâ”€â”€ audio/           # éŸ³é¢‘æ–‡ä»¶
    â”œâ”€â”€ text/            # æ–‡æœ¬æ–‡ä»¶
    â””â”€â”€ output/          # è¾“å‡ºæ–‡ä»¶
```

## éƒ¨ç½²æŒ‡å—

### Docker éƒ¨ç½²
```bash
docker-compose up -d
```

### Kubernetes éƒ¨ç½²
```bash
kubectl apply -f k8s/
```